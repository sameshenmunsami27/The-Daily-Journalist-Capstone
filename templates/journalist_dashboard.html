{% extends 'base.html' %}

{% block title %}My Articles - The Daily Journalist{% endblock %}

{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
    <h1 style="font-family: 'Playfair Display', serif; color: #2c3e50; margin: 0;">My Articles</h1>
    <a href="{% url 'create_article' %}" class="auth-btn" style="text-decoration: none; padding: 10px 20px; width: auto; background-color: #2c3e50; color: white; border-radius: 8px;">+ Write New Article</a>
</div>

<p style="color: #7f8c8d;">Track the status of your stories and make updates as needed.</p>

<div style="background: white; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); overflow: hidden; border: 1px solid #e1e4e8;">
    <table style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="background: #2c3e50; color: white; text-align: left;">
                <th style="padding: 15px;">Article Title</th>
                <th style="padding: 15px;">Status</th>
                <th style="padding: 15px;">Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for article in articles %}
            <tr style="border-bottom: 1px solid #eee; transition: background 0.2s;" onmouseover="this.style.backgroundColor='#f9f9f9'" onmouseout="this.style.backgroundColor='transparent'">
                <td style="padding: 15px; font-weight: 600; color: #34495e;">{{ article.title }}</td>
                <td style="padding: 15px;">
                    {% if article.approved %}
                        <span style="display: inline-block; padding: 4px 10px; border-radius: 20px; background: #d4edda; color: #155724; font-size: 0.85rem; font-weight: bold;">
                            ● Published
                        </span>
                    {% else %}
                        <span style="display: inline-block; padding: 4px 10px; border-radius: 20px; background: #fff3cd; color: #856404; font-size: 0.85rem; font-weight: bold;">
                            ● Pending Review
                        </span>
                    {% endif %}
                </td>
                <td style="padding: 15px;">
                    <a href="{% url 'article_detail' article.id %}" style="color: #3498db; text-decoration: none; font-weight: bold;">View</a>
                    <span style="color: #bdc3c7; margin: 0 8px;">|</span>
                    <a href="{% url 'edit_article' article.id %}" style="color: #f39c12; text-decoration: none; font-weight: bold;">Edit</a>
                    <span style="color: #bdc3c7; margin: 0 8px;">|</span>
                    <a href="{% url 'delete_article' article.id %}" 
                       style="color: #e74c3c; text-decoration: none; font-weight: bold;" 
                       onclick="return confirm('Are you sure you want to delete this article?');">
                       Delete
                    </a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="3" style="padding: 40px; text-align: center; color: #95a5a6; font-style: italic;">
                    You haven't written any articles yet. <a href="{% url 'create_article' %}" style="color: #3498db;">Start writing now!</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div style="margin-top: 30px;">
    <a href="{% url 'index' %}" style="color: #7f8c8d; text-decoration: none;">&larr; Back to News Feed</a>
</div>
{% endblock %}